@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== HEADER OFFSET VARIABLE (stable at 100% zoom) ===== */
:root {
  --app-header-offset: 104px; /* desktop: ticker + navbar combined */
}
@media (max-width: 768px) {
  :root {
    --app-header-offset: 56px; /* mobile header */
  }
}

/* ===== PAGE BACKGROUND (Dark Mode Compatible) ===== */
.page-bg {
  @apply bg-slate-50 dark:bg-slate-950;
}

/* ===== PREMIUM DARK SPOTLIGHT GRADIENT ===== */
.dark-spotlight-bg {
  position: relative;
  isolation: isolate;
}

.dark .dark-spotlight-bg::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(circle at 50% 20%, rgba(56, 189, 248, 0.18), transparent 55%),
    radial-gradient(circle at 80% 30%, rgba(168, 85, 247, 0.14), transparent 60%),
    radial-gradient(circle at 20% 80%, rgba(34, 197, 94, 0.10), transparent 55%),
    linear-gradient(to bottom, rgba(2, 6, 23, 1), rgba(2, 6, 23, 0.95), rgba(2, 6, 23, 1));
}

/* ===== GLOBAL LAYOUT & OVERFLOW FIX ===== */
html, body {
  height: 100%;
  overflow-x: hidden;
  max-width: 100vw;
}

body {
  min-height: 100dvh;
}

body[data-scroll-locked] {
  overflow: hidden !important;
}

/* ===== PREMIUM TYPOGRAPHY (Zerodha/Smallcase vibe) ===== */
@layer base {
  html {
    font-size: 15px;
    line-height: 1.6;
  }
  
  @media (min-width: 768px) {
    html {
      font-size: 17px;
      line-height: 1.7;
    }
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  h1 {
    font-size: 2rem; /* 32px mobile */
    line-height: 1.2;
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  
  h2 {
    font-size: 1.5rem; /* 24px mobile */
    line-height: 1.3;
    font-weight: 600;
    letter-spacing: -0.01em;
  }
  
  h3 {
    font-size: 1.25rem; /* 20px mobile */
    line-height: 1.4;
    font-weight: 600;
  }
  
  @media (min-width: 768px) {
    h1 {
      font-size: 2.8rem; /* ~48px desktop */
    }
    
    h2 {
      font-size: 2.1rem; /* ~36px desktop */
    }
    
    h3 {
      font-size: 1.65rem; /* ~28px desktop */
    }
  }
}

/* ===== CHARACTER EMOTION ANIMATIONS (Premium Zerodha-style - subtle, slow glow) ===== */
/* Avatar image NEVER moves - only soft ring glow animations */

@keyframes ring-glow-yellow {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(250, 204, 21, 0.15); }
  50% { box-shadow: 0 0 16px 4px rgba(250, 204, 21, 0.25); }
}

@keyframes ring-glow-blue {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(59, 130, 246, 0.15); }
  50% { box-shadow: 0 0 16px 4px rgba(59, 130, 246, 0.25); }
}

@keyframes ring-glow-orange {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(249, 115, 22, 0.15); }
  50% { box-shadow: 0 0 14px 3px rgba(249, 115, 22, 0.2); }
}

@keyframes ring-glow-green {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(34, 197, 94, 0.15); }
  50% { box-shadow: 0 0 16px 4px rgba(34, 197, 94, 0.25); }
}

@keyframes ring-glow-gray {
  0%, 100% { box-shadow: 0 0 6px 1px rgba(156, 163, 175, 0.1); }
  50% { box-shadow: 0 0 10px 2px rgba(156, 163, 175, 0.15); }
}

@keyframes ring-glow-purple {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(168, 85, 247, 0.15); }
  50% { box-shadow: 0 0 14px 3px rgba(168, 85, 247, 0.22); }
}

@keyframes ring-glow-pink {
  0%, 100% { box-shadow: 0 0 10px 2px rgba(236, 72, 153, 0.15); }
  50% { box-shadow: 0 0 18px 4px rgba(236, 72, 153, 0.25); }
}

@keyframes ring-glow-slate {
  0%, 100% { box-shadow: 0 0 6px 1px rgba(100, 116, 139, 0.1); }
  50% { box-shadow: 0 0 10px 2px rgba(100, 116, 139, 0.18); }
}

/* Slower, smoother animations for premium feel */
.animate-ring-yellow { animation: ring-glow-yellow 2.5s ease-in-out infinite; }
.animate-ring-blue { animation: ring-glow-blue 3s ease-in-out infinite; }
.animate-ring-orange { animation: ring-glow-orange 2s ease-in-out infinite; }
.animate-ring-green { animation: ring-glow-green 2.8s ease-in-out infinite; }
.animate-ring-gray { animation: ring-glow-gray 3.5s ease-in-out infinite; }
.animate-ring-purple { animation: ring-glow-purple 2.5s ease-in-out infinite; }
.animate-ring-pink { animation: ring-glow-pink 2.2s ease-in-out infinite; }
.animate-ring-slate { animation: ring-glow-slate 3.5s ease-in-out infinite; }

/* ===== PREMIUM CTA BUTTON EFFECTS ===== */
.btn-glow-emerald {
  box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
  transition: box-shadow 0.3s ease;
}
.btn-glow-emerald:hover {
  box-shadow: 0 0 30px rgba(16, 185, 129, 0.5);
}

.btn-glow-primary {
  box-shadow: 0 0 20px hsl(var(--primary) / 0.25);
  transition: box-shadow 0.3s ease;
}
.btn-glow-primary:hover {
  box-shadow: 0 0 30px hsl(var(--primary) / 0.4);
}

/* Premium soft card styling */
.soft-card {
  background: hsl(var(--card));
  border-radius: 1rem;
  border: 1px solid hsl(var(--border) / 0.5);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}
.soft-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

/* RTL (Right-to-Left) Support for Arabic and Urdu */
[dir="rtl"] {
  text-align: right;
}

[dir="rtl"] .flex-row {
  flex-direction: row-reverse;
}

[dir="rtl"] .space-x-1 > :not([hidden]) ~ :not([hidden]),
[dir="rtl"] .space-x-2 > :not([hidden]) ~ :not([hidden]),
[dir="rtl"] .space-x-3 > :not([hidden]) ~ :not([hidden]),
[dir="rtl"] .space-x-4 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 1;
}

[dir="rtl"] .ml-1, [dir="rtl"] .ml-2, [dir="rtl"] .ml-3, [dir="rtl"] .ml-4, [dir="rtl"] .ml-auto {
  margin-left: 0;
}

[dir="rtl"] .mr-1, [dir="rtl"] .mr-2, [dir="rtl"] .mr-3, [dir="rtl"] .mr-4, [dir="rtl"] .mr-auto {
  margin-right: 0;
}

[dir="rtl"] .pl-1, [dir="rtl"] .pl-2, [dir="rtl"] .pl-3, [dir="rtl"] .pl-4, [dir="rtl"] .pl-6, [dir="rtl"] .pl-9 {
  padding-left: 0;
}

[dir="rtl"] .pr-1, [dir="rtl"] .pr-2, [dir="rtl"] .pr-3, [dir="rtl"] .pr-4 {
  padding-right: 0;
}

[dir="rtl"] .left-0 {
  left: auto;
  right: 0;
}

[dir="rtl"] .right-0 {
  right: auto;
  left: 0;
}

[dir="rtl"] .left-3 {
  left: auto;
  right: 0.75rem;
}

[dir="rtl"] .border-l {
  border-left: 0;
  border-right: 1px solid;
}

[dir="rtl"] .border-r {
  border-right: 0;
  border-left: 1px solid;
}

[dir="rtl"] .text-left {
  text-align: right;
}

[dir="rtl"] .text-right {
  text-align: left;
}

/* RTL icon flip */
[dir="rtl"] .rtl-flip {
  transform: scaleX(-1);
}

/* Hide scrollbar utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ===== MOBILE-FIRST OPTIMIZATIONS ===== */

/* Reduce motion on mobile for better performance */
@media (max-width: 768px) {
  /* Disable heavy blur effects on mobile */
  .blur-3xl,
  .blur-2xl {
    filter: blur(32px) !important;
  }
  
  /* Reduce animation complexity */
  .motion-reduce-mobile * {
    animation-duration: 0.1s !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.1s !important;
  }
}

/* Respect user preference for reduced motion - disable looping animations only */
@media (prefers-reduced-motion: reduce) {
  /* Disable only looping/infinite animations */
  .animate-pulse,
  .animate-spin,
  .animate-bounce,
  .animate-ping {
    animation: none !important;
  }
  
  /* Disable hero blur animations */
  .blur-3xl,
  .blur-2xl {
    animation: none !important;
  }
  
  /* Keep transitions but reduce duration slightly */
  *,
  *::before,
  *::after {
    transition-duration: 0.15s !important;
    scroll-behavior: auto !important;
  }
}

/* Mobile touch targets - minimum 44px for all interactive elements */
@media (max-width: 768px) {
  /* Global touch targets for buttons - override Shadcn min-h-9 (36px) */
  button,
  [role="button"],
  input[type="button"],
  input[type="submit"],
  .inline-flex[role="combobox"],
  [data-radix-collection-item] {
    min-height: 44px !important;
  }
  
  /* Navigation links need inline-flex to accept min-height */
  nav a,
  header a:not(p a):not(span a),
  .touch-target {
    display: inline-flex;
    align-items: center;
    min-height: 44px;
  }
  
  /* Improve scrolling on mobile */
  .overflow-y-auto,
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Better text readability on mobile */
  body {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    font-size: 16px;
  }
  
  /* Input fields - larger touch targets */
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="tel"],
  textarea,
  select {
    min-height: 44px !important;
    font-size: 16px !important;
  }
  
  /* Slider thumb - larger for touch */
  [role="slider"] {
    min-height: 44px;
  }
  
  /* Better spacing for cards on mobile */
  .mobile-card-spacing {
    padding: 1rem;
  }
  
  /* Ensure text doesn't get too small */
  p, span, label {
    min-font-size: 14px;
  }
}

/* Lazy loading placeholder animation */
.lazy-placeholder {
  background: linear-gradient(90deg, hsl(var(--muted)) 25%, hsl(var(--muted-foreground) / 0.1) 50%, hsl(var(--muted)) 75%);
  background-size: 200% 100%;
  animation: lazy-shimmer 1.5s infinite;
}

@keyframes lazy-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Safe area support for notched devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* ===== END MOBILE-FIRST OPTIMIZATIONS ===== */

/* LIGHT MODE - Zerodha Varsity Inspired Premium Education */
:root {
  --button-outline: rgba(0,0,0, .08);
  --badge-outline: rgba(0,0,0, .05);
  --opaque-button-border-intensity: -6;
  --elevate-1: rgba(0,0,0, .02);
  --elevate-2: rgba(0,0,0, .05);
  --background: 218 33% 97%;
  --foreground: 222 47% 11%;
  --border: 220 13% 91%;
  --card: 0 0% 100%;
  --card-foreground: 222 47% 11%;
  --card-border: 220 13% 91%;
  --sidebar: 30 30% 98%;
  --sidebar-foreground: 215 25% 15%;
  --sidebar-border: 220 14% 92%;
  --sidebar-primary: 210 80% 55%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 30 20% 96%;
  --sidebar-accent-foreground: 215 25% 15%;
  --sidebar-ring: 210 80% 55%;
  --popover: 0 0% 100%;
  --popover-foreground: 215 25% 15%;
  --popover-border: 220 14% 90%;
  --primary: 210 80% 55%;
  --primary-foreground: 0 0% 100%;
  --secondary: 30 20% 96%;
  --secondary-foreground: 215 25% 15%;
  --muted: 30 15% 96%;
  --muted-foreground: 215 15% 50%;
  --accent: 168 70% 55%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 72% 60%;
  --destructive-foreground: 0 0% 100%;
  --input: 220 14% 92%;
  --ring: 210 80% 55%;
  --chart-1: 210 80% 55%;
  --chart-2: 168 70% 55%;
  --chart-3: 263 60% 65%;
  --chart-4: 45 95% 60%;
  --chart-5: 0 70% 65%;
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --radius: 1rem;
  --shadow-2xs: 0px 2px 0px 0px hsl(210 6% 12% / 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(210 6% 12% / 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 1px 2px -1px hsl(210 6% 12% / 0.00);
  --shadow: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 1px 2px -1px hsl(210 6% 12% / 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 2px 4px -1px hsl(210 6% 12% / 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 4px 6px -1px hsl(210 6% 12% / 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 8px 10px -1px hsl(210 6% 12% / 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(210 6% 12% / 0.00);
  --tracking-normal: 0em;
  --spacing: 0.25rem;

/* Fallback for older browsers */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

.dark {
  --button-outline: rgba(255,255,255, .10);
  --badge-outline: rgba(255,255,255, .05);
  --opaque-button-border-intensity: 9;
  --elevate-1: rgba(255,255,255, .04);
  --elevate-2: rgba(255,255,255, .09);
  --background: 220 15% 8%;
  --foreground: 210 20% 96%;
  --border: 220 10% 18%;
  --card: 220 15% 11%;
  --card-foreground: 210 20% 96%;
  --card-border: 220 10% 16%;
  --sidebar: 220 15% 10%;
  --sidebar-foreground: 210 20% 96%;
  --sidebar-border: 220 10% 18%;
  --sidebar-primary: 210 80% 60%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 220 12% 18%;
  --sidebar-accent-foreground: 210 20% 96%;
  --sidebar-ring: 210 80% 60%;
  --popover: 220 15% 13%;
  --popover-foreground: 210 20% 96%;
  --popover-border: 220 10% 20%;
  --primary: 210 80% 60%;
  --primary-foreground: 0 0% 100%;
  --secondary: 220 12% 20%;
  --secondary-foreground: 210 20% 96%;
  --muted: 220 12% 16%;
  --muted-foreground: 210 15% 65%;
  --accent: 168 60% 50%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 72% 50%;
  --destructive-foreground: 0 0% 100%;
  --input: 220 12% 24%;
  --ring: 210 80% 60%;
  --chart-1: 210 80% 65%;
  --chart-2: 168 60% 55%;
  --chart-3: 263 60% 70%;
  --chart-4: 45 95% 65%;
  --chart-5: 0 70% 65%;
  --shadow-2xs: 0px 2px 0px 0px hsl(210 5% 96% / 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(210 5% 96% / 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(210 5% 96% / 0.00), 0px 1px 2px -1px hsl(210 5% 96% / 0.00);
  --shadow: 0px 2px 0px 0px hsl(210 5% 96% / 0.00), 0px 1px 2px -1px hsl(210 5% 96% / 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(210 5% 96% / 0.00), 0px 2px 4px -1px hsl(210 5% 96% / 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(210 5% 96% / 0.00), 0px 4px 6px -1px hsl(210 5% 96% / 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(210 5% 96% / 0.00), 0px 8px 10px -1px hsl(210 5% 96% / 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(210 5% 96% / 0.00);

/* Fallback for older browsers */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground leading-relaxed;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }
}

/* ===== ZERODHA VARSITY DESIGN SYSTEM ===== */
@layer components {
  /* ===== TYPOGRAPHY SCALE ===== */
  .varsity-h1 {
    @apply text-4xl md:text-5xl font-semibold tracking-tight text-slate-900 dark:text-white;
  }
  .varsity-h2 {
    @apply text-2xl md:text-3xl font-semibold tracking-tight text-slate-900 dark:text-white;
  }
  .varsity-h3 {
    @apply text-xl md:text-2xl font-semibold tracking-tight text-slate-900 dark:text-white;
  }
  .varsity-body {
    @apply text-base md:text-lg text-slate-600 dark:text-slate-400 leading-relaxed;
  }
  .varsity-small {
    @apply text-sm text-slate-500 dark:text-slate-400;
  }

  /* ===== LAYOUT UTILITIES ===== */
  .page-container {
    @apply max-w-6xl mx-auto px-4;
  }
  .section {
    @apply py-12 md:py-16;
  }
  .section-sm {
    @apply py-8 md:py-12;
  }

  /* ===== SOFT CARD SYSTEM ===== */
  .card-soft {
    @apply bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-2xl shadow-sm hover:shadow-md transition-shadow;
  }
  .soft-card {
    @apply bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-2xl shadow-sm;
  }
  .soft-card-hover {
    @apply bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-2xl shadow-sm 
           transition-all duration-200 ease-out;
  }
  .soft-card-hover:hover {
    @apply shadow-md border-gray-300 dark:border-slate-600;
  }

  /* ===== PASTEL CATEGORY CARDS ===== */
  .pastel-card-blue {
    @apply bg-blue-50 dark:bg-blue-950/30 border border-blue-100 dark:border-blue-900/50 rounded-2xl;
  }
  .pastel-card-pink {
    @apply bg-pink-50 dark:bg-pink-950/30 border border-pink-100 dark:border-pink-900/50 rounded-2xl;
  }
  .pastel-card-yellow {
    @apply bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/50 rounded-2xl;
  }
  .pastel-card-purple {
    @apply bg-purple-50 dark:bg-purple-950/30 border border-purple-100 dark:border-purple-900/50 rounded-2xl;
  }
  .pastel-card-green {
    @apply bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-100 dark:border-emerald-900/50 rounded-2xl;
  }

  /* ===== BUTTONS (Varsity Style) ===== */
  .btn-varsity-primary {
    @apply bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-xl transition-colors shadow-sm;
  }
  .btn-varsity-secondary {
    @apply bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium px-6 py-3 rounded-xl transition-colors hover:bg-gray-50 dark:hover:bg-slate-700;
  }

  /* ===== TRUST BADGES ===== */
  .trust-badge {
    @apply inline-flex items-center gap-1.5 text-sm text-slate-600 dark:text-slate-400;
  }

  /* ===== HERO SECTION ===== */
  .hero-section {
    @apply bg-gradient-to-b from-slate-50 to-white dark:from-slate-900/50 dark:to-background;
  }

  /* Legacy utilities for compatibility */
  .section-container {
    @apply max-w-6xl mx-auto px-4;
  }
  .section-padding {
    @apply py-10 md:py-16;
  }
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 *
 * <element className="hover-elevate" />
 * <element className="active-elevate-2" />
 *
 * // Using the tailwind utility when a data attribute is "on"
 * <element className="toggle-elevate data-[state=on]:toggle-elevated" />
 * // Or manually controlling the toggle state
 * <element className="toggle-elevate toggle-elevated" />
 *
 * Elevation systems have to handle many states.
 * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)
 * - toggled or not
 * - focused or not (this is not handled with these utilities)
 *
 * Even without handling focused or not, this is six possible combinations that
 * need to be distinguished from eachother visually.
 */
@layer utilities {

  /* Hide ugly search cancel button in Chrome until we can style it properly */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of
   * buttons/badges can remove the automatic brightness adjustment on interactions
   * and program their own. */
  .no-default-hover-elevate {}

  .no-default-active-elevate {}


  /**
   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.
   * This way they can stack/compound. Both will overlap the parent's borders!
   * So borders will be automatically adjusted both on toggle, and hover/active,
   * and they will be compounded.
   */
  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: -1;
    /* sits behind content but above backdrop */
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.toggle-elevate::before {
    inset: -1px;
  }

  /* Does not work on elements with overflow:hidden! */
  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: 999;
    /* sits in front of content */
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {
    inset: -1px;
  }
}
