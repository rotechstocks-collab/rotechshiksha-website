IMPORTANT RULE: Do NOT delete any page, route, or component unless I explicitly say “permanently remove”. You may refactor, move, or disable behind flags, but never delete.

My app is crashing due to a Vite import error in:
client/src/components/characters/ComicModal.tsx
It tries to import public assets from @/public/characters/poses, which is invalid.

✅ GOAL

Fix the crash permanently, and implement a clean professional “Character Assets System” like Zerodha Varsity.

✅ PART 1 — FIX THE CRASH (Required)

In ComicModal.tsx, remove any import like:

import { getPoseUrl } from "@/public/characters/poses";


because public/ assets cannot be imported in Vite.

Replace with a clean helper inside ComicModal.tsx:

const poseUrl = (file: string) => `/characters/poses/${file}`;


Update all comic panel image src to use:

<img src={poseUrl("priya-point.png")} ... />
<img src={poseUrl("rohit-idea.png")} ... />


Ensure build succeeds and app does not crash.

✅ PART 2 — CLEANER & FUTURE-PROOF CHARACTER ASSET SYSTEM

Create this file:
client/src/lib/characterAssets.ts

It should centralize ALL character image paths (no hardcoding elsewhere):

export const characterAssets = {
  avatars: {
    priya: "/characters/avatars/priya.png",
    rohit: "/characters/avatars/rohit.png",
  },
  poses: {
    priya: {
      smile: "/characters/poses/priya-smile.png",
      point: "/characters/poses/priya-point.png",
      think: "/characters/poses/priya-think.png",
      clipboard: "/characters/poses/priya-clipboard.png",
    },
    rohit: {
      thumb: "/characters/poses/rohit-thumb.png",
      confused: "/characters/poses/rohit-confused.png",
      idea: "/characters/poses/rohit-idea.png",
      write: "/characters/poses/rohit-write.png",
    }
  }
} as const;


Then update:

CharacterAvatar.tsx to use characterAssets.avatars.priya/rohit

ComicModal.tsx to use characterAssets.poses mapping instead of strings

✅ PART 3 — SAFE FEATURE FLAG FOR COMICS (No breaking in production)

Add a flag:
client/src/config/features.ts

export const features = {
  comics: false
} as const;


Update ComicModal usage:

If features.comics === false, the “See Example” / Comic button should be hidden but component remains in code (NOT deleted).

This prevents future crashes or incomplete features showing live.

✅ PART 4 — VERIFY & REPORT

After changes:
✅ Restart dev server
✅ Verify these pages load without errors:

/

/calculators

/beginner-course

Confirm:

No crash

No console errors

Priya always shows Priya avatar

Rohit always shows Rohit avatar

Output:

List all files modified

Show final characterAssets.ts

Show fixed ComicModal.tsx snippet

Confirm verification completed